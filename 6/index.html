<!DOCTYPE HTML>
<!--
	Photon by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Project 6: Final Project</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Header -->
			<section id="header">
				<div class="inner">
					<span class="icon solid major fa-cloud"></span>
					<h1><strong></strong>Project 6: Lightfield Camera and Gradient Domain Fusion ft. NeRF</strong></h1>
					<h2>Jaewon Lee (SID: 3036696329)</h2>
					<ul class="actions special">
						<li><a href="#one" class="button scrolly">Let's go!</a></li>
					</ul>
				</div>
			</section>

		<!-- One -->
			<section id="one" class="main style1">
				<div class="container">
					<div class="row gtr-150">
						<div class="col-6 col-12-medium">
							<header class="major">
								<h2>Overview</h2>
							</header>
							<p>For my final project, I decided to do the Lightfield Camera project and the Gradient Domain Fusion project. I had initially attempted to do NeRF, but switched over to other two projects once I was knees deep on part 2. With that being said, my Bells & Whistles will be the interactive refocusing for lightfield cameras as well as part 1 for NeRF.</p>
							<p><b>For the Lightfield Camera project, I have done the following:</b></p>
							<ol start="0">
								<li>Depth Refocusing</li>
								<li>Aperture Adjustment</li>
								<li>B&W: Interactive Refocusing</li>
								<li>Summary</li>
							</ol>
							<p><b>For the Gradient Domain Fusion project, I have done the following:</b></p>
							<ol>
								<li>Toy Problem</li>
								<li>Poisson Blending</li>
							</ol>
							<p><b>For the NeRF project part 1, I have done the following:</b></p>
							<ol>
								<li>Fit a Neural Field to a 2D Image</li>
								<li>Hyperparameter Tuning</li>
							</ol>
						</div>
						<div class="col-6 col-12-medium imp-medium">
							<span class="image fit"><img src="images/amethyst.gif" alt="" /></span>
							<p>Amethyst depth refocusing GIF</p>
						</div>
					</div>
				</div>
			</section>

		<!-- Two -->
		<hr/>
			<section id="Two" class="main style1 special">
				<div class="container">
					<header class="major">
						<h2>Lightfield Camera: Depth Refocusing</h2>
						<p>chess set and amethyst</p>
					</header>
					<p>In this section, I implemented depth refocusing via lightfield cameras, which are also known as plenoptic cameras. Lightfield data is generated by moving the camera to capture images from various angles while keeping the focal length constant. By doing so, nearby objects shift noticeably across images, while distant objects show minimal movement. We used images from the Stanford Light Field Archive, which consists of 289 sub-aperture images from a 17 by 17 grid. Averaging the lightfield images from this dataset without any changes leads to a photo where objects close to the camera appear blurry and objects farther away remain sharp. This effect can be exploited to produce images that emphasize different objects at various depths, a technique called depth refocusing. By reading <a href="https://graphics.stanford.edu/papers/lfcamera/lfcamera-150dpi.pdf">this paper</a> by Ng et al., I have translated each image by <code>shift_x = int(C * (xx - center_u))</code> and <code>shift_y = int(C * (yy - center_v))</code>; <code>C</code> is the camera's focus, <code>xx</code> and <code>yy</code> are the image's index from the dataset, and <code>center_u</code> and <code>center_v</code> is the center image of <code>(8, 8)</code>. With that being said, I've generated refocusing GIFs for the chess set and the amethyst.</p>
					<div class="row gtr-150">
						<div class="col-8 col-12-medium">
							<span class="image fit"><img src="images/chess.gif" alt="" /></span>
							<h5>Chess set refocusing GIF, <code>C = 0</code> to <code>C = 25</code></h5>
						</div>
						<div class="col-4 col-12-medium">
							<span class="image fit"><img src="images/amethyst.gif" alt="" /></span>
							<h5>Amethyst refocusing GIF, <code>C = -1</code> to </br> <code>C = 1</code></h5>
						</div>
					</div>
					<p>For my first bells and whistles, I have implemented interactive refocusing; the depth that the chess set is focused at will follow the cursor, vertically.</p>
					<div class="row gtr-150">
						<div class="col-12 col-12-medium">
							<span class="image fit"><img id="depth-image" src="images/depth_refocus_chess_00.png" alt="Depth Refocus"><span>
							<script>
								const imgElement = document.getElementById('depth-image');
								const totalFrames = 25; // Number of images (depth_refocus_chess_00.png to depth_refocus_chess_25.png)
								document.body.addEventListener('mousemove', (event) => {
									const cursorY = event.clientY; // Cursor Y position within the viewport
									const viewportHeight = window.innerHeight; // Total height of the viewport
									const frameIndex = Math.min(
										totalFrames - 1,
										Math.floor((cursorY / viewportHeight) * totalFrames * 1.5)
									);
									// Update image source dynamically
									imgElement.src = `images/depth_refocus_chess_${String(frameIndex).padStart(2, '0')}.png`;
								});
							</script>
						</div>
					</div>
					<p>Now, let's head on over to aperture adjustment.</p>
				</div>
			</section>

		<!-- Three -->
		<hr/>
			<section id="Three" class="main style1 special">
				<div class="container">
					<header class="major">
						<h2>Lightfield Camera: Aperture Adjustment</h2>
						<p>more averaging images</p>
					</header>
					<p>In this part, we implement aperture adjustment for the lightfield camera. Previously, for depth refocusing, we averaged all of the images in our dataset. This time, we can take the average of the subset of images in our lightfield dataset to simulate for aperture adjustment. This subset is determined by how close they are to the center (image), and my implementation simply checked if either <code>abs(yy - center_v) > r</code> or <code>abs(xx - center_u) > r</code>. <code>r</code> is the aperture size/radius, and if either condition is met, then the image is too far away and we don't include it in our average. A larger <code>r</code> will allow for more images to be included in the average, causing the image to be more "blurred", which is also what happens in real life.</p>
					<div class="row gtr-150">
						<div class="col-2 col-12-medium">
						</div>
						<div class="col-8 col-12-medium">
							<span class="image fit"><img src="images/aperture_adjustment.gif" alt="" /></span>
							<p>Chess set aperture adjustment with <code>C = 1.5</code> and <code>r = 0</code> to <code>r = 10</code>.</p>
						</div>
						<div class="col-3 col-12-medium">
						</div>
					</div>
				</div>
			</section>

		<!-- Four -->
		<hr/>
			<section id="Four" class="main style1 special">
				<div class="container">
					<header class="major">
						<h2>Lightfield Camera: Summary</h2>
						<p>main takeaways</p>
					</header>
					<p>Overall, it was cool to learn about how lightfield data can be utilized to simulate a lightfield camera, specifically allowing us to simulate a change in depth focusing and aperture adjustment. I was also able to realize how combining different images (and therefore rays of light) in a clever yet simple way allows us to simulate the real-world applications/features of cameras.</p>
				</div>
			</section>

	<!-- TBD -->
	<hr/>
		<section id="TBD" class="main style1 special">
			<div class="container">
				<header class="major">
					<h2>Acknowledgements</h2>
				</header>
				<p>This project is part of the Fall 2024 offering of CS180: Intro to Computer Vision and Computational Photography, at UC Berkeley. This website template is modified from HTML5 UP.</p>
			</div>
		</section>

		<!-- Footer -->
			<section id="footer">
				<ul class="copyright">
					<li>&copy; 2024</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
				</ul>
			</section>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
